{"version":3,"sources":["component/List.js","action/todos.js","component/Todos.js","action/goals.js","component/Goals.js","action/share.js","component/App.js","reducers/todos.js","reducers/goals.js","reducers/loading.js","reducers/index.js","middleware/logger.js","middleware/index.js","index.js"],"names":["List","props","deleteList","toggleTodoList","items","map","item","key","id","onClick","style","textDecoration","component","name","ADD_TODO","REMOVE_TODO","TOGGLE_TODO","addTodo","todo","type","handleRemoveTodo","dispatch","API","deleteGoal","catch","alert","Todos","getInputValue","e","preventDefault","cb","input","value","saveTodo","then","toggleTodo","todos","this","ref","Component","connect","ADD_GOALS","REMOVE_GOALS","addGoal","goal","handleRemoveGoal","console","log","Goals","getGoalValue","saveGoal","handleAddGoal","goals","RECEIVE_DATA","App","Promise","all","fetchTodos","fetchGoals","receiveData","loading","state","action","concat","filter","Object","assign","combineReducers","logger","store","next","group","getState","groupEnd","applyMiddleware","thunk","createStore","reducers","middleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f597d175.chunk.js","sourcesContent":["import React from 'react'\n\n\nfunction List(props) {\n    const {deleteList,toggleTodoList}= props\n    return(\n        <ul>\n            {props.items.map((item)=>(\n                <li key={item.id}>\n                    <span onClick={()=>\n                        toggleTodoList&&toggleTodoList(item.id)}\n                          style={{textDecoration: item.component ? 'line-through':'none'}}>\n                        {item.name}\n                    </span>\n                    <button onClick={()=>deleteList(item)}>x</button>\n                </li>\n            ))}\n        </ul>\n    )\n}\n\nexport default List","import API from 'goals-todos-api'\nexport const ADD_TODO = 'ADD_TODO'\nexport const REMOVE_TODO ='REMOVE_TODO';\nexport const TOGGLE_TODO='TOGGLE_TODO'\nexport const RECEIVE_TODO ='RECEIVE_TODO'\n\nexport function addTodo(todo) {\n    return {\n        type:ADD_TODO,\n        todo\n    }\n}\n\nexport function removeTodo(id) {\n    return {\n        type:REMOVE_TODO,\n        id\n    }\n}\n\nexport function toggleTodo(id) {\n    return {\n        type:TOGGLE_TODO,\n        id\n    }\n}\n\nexport function handleTodo(name,cb) {\n    return (dispatch)=>{\n        return API.saveTodo(name)\n            .then((name)=>{\n                dispatch(addTodo(name))\n            cb()\n        }).catch(()=>{\n                alert('错误请重试')\n        })\n    }\n}\n\nexport function handleRemoveTodo(name) {\n    return (dispatch)=>{\n        dispatch(removeTodo(name.id))\n        return API.deleteGoal(name.id).catch(()=>{\n            dispatch(addTodo(name))\n            alert('错误添加请重试')\n        })\n    }\n}","import React,{Component} from 'react'\nimport List from './List'\nimport {connect} from 'react-redux'\nimport {handleTodo,handleRemoveTodo,toggleTodo} from  '../action/todos'\n\nclass Todos extends Component{\n    getInputValue =(e)=>{\n        e.preventDefault()\n        const todo = this.input.value\n        this.props.dispatch(handleTodo(todo,()=>this.input.value =''))\n    }\n    deleteList =(name)=>{\n        this.props.dispatch(handleRemoveTodo(name))\n    }\n    toggleTodoList =(id)=>{\n        this.props.dispatch(toggleTodo(id))\n    }\n    render() {\n        const {todos}=this.props\n        return (\n            <div>\n                <h3>Todos</h3>\n                <input type=\"text\" ref={(input)=>this.input=input}/>\n                <button onClick={this.getInputValue}>提交</button>\n                <List\n                    items={todos}\n                    deleteList={this.deleteList}\n                    toggleTodoList={this.toggleTodoList}\n                />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps({todos}) {\n    return {\n        todos\n    }\n}\n\nexport default connect(mapStateToProps)(Todos)","import API from 'goals-todos-api'\nexport const ADD_GOALS ='ADD_GOALS';\nexport const REMOVE_GOALS ='REMOVE_GOALS';\n\n\n\n\nexport function addGoal(goal) {\n    return {\n        type:ADD_GOALS,\n        goal,\n    }\n}\n\nexport function removeGoal(id) {\n    console.log('action------id',id)\n    return {\n        type: REMOVE_GOALS,\n        id\n    }\n}\n\n\nexport function handleAddGoal(name,cb) {\n    return (dispatch)=>{\n        return API.saveGoal(name).then((name)=>{\n            dispatch(addGoal(name))\n            cb()\n        }).catch(()=>{\n            alert(\"错误添加请重试\")\n        })\n    }\n}\n\nexport function handleRemoveGoal(name) {\n    console.log('handleRemoveGoal',name.id)\n    return (dispatch)=>{\n        dispatch(removeGoal(name.id))\n        return API.deleteGoal(name.id).catch(()=>{\n            dispatch(addGoal(name))\n            alert(\"错误请重试\")\n        })\n    }\n}","import React,{Component} from 'react'\nimport List from './List'\nimport {connect} from 'react-redux'\nimport {handleAddGoal,handleRemoveGoal} from '../action/goals'\n\nclass Goals extends Component{\n    getGoalValue=(e)=>{\n        e.preventDefault()\n        const name = this.input.value\n        this.props.dispatch(handleAddGoal(name,()=>this.input.value=''))\n    }\n    deleteList =(goal)=>{\n        this.props.dispatch(handleRemoveGoal(goal))\n    }\n    render() {\n        return (\n            <div>\n                <h3>Goals</h3>\n                <input type=\"text\" ref={(input)=>this.input=input}/>\n                <button onClick={this.getGoalValue}>提交</button>\n                <List\n                    items={this.props.goals}\n                    deleteList={this.deleteList}\n                />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps({goals}) {\n    return {\n        goals\n    }\n}\n\nexport default connect(mapStateToProps)(Goals)\n","export const RECEIVE_DATA =  'RECEIVE_DATA';\n\nexport function receiveData(todos,goals) {\n    return {\n        type:RECEIVE_DATA,\n        todos,\n        goals\n    }\n}\n","import React,{Component} from 'react';\nimport Todos from './Todos'\nimport Goals from './Goals'\nimport API from 'goals-todos-api'\nimport {connect} from 'react-redux'\nimport {receiveData} from '../action/share'\nclass App extends Component{\n    componentDidMount() {\n        Promise.all([API.fetchTodos(),API.fetchGoals()]).then(([todos,goals])=>{\n            this.props.dispatch(receiveData(todos,goals))\n        })\n    }\n    render() {\n        if(this.props.loading===true){\n            return <h3>loading</h3>\n        }\n        return (\n            <div>\n                <Todos/>\n                <Goals/>\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps({loading}) {\n    return {\n        loading\n    }\n}\n\nexport default connect(mapDispatchToProps)(App);\n","import {\n    ADD_TODO,\n    REMOVE_TODO,\n    TOGGLE_TODO,\n} from '../action/todos'\n\nimport {\n    RECEIVE_DATA\n} from '../action/share'\n\n\n\nfunction todos(state=[],action) {\n    switch (action.type) {\n        case ADD_TODO:\n            return state.concat([action.todo])\n        case REMOVE_TODO:\n            return state.filter((todo)=>todo.id !==action.id)\n        case TOGGLE_TODO:\n            return state.map((todo)=> todo.id !==action.id\n                ? todo\n                :Object.assign({},todo,{component:!todo.component})\n            )\n        case RECEIVE_DATA:\n            return  action.todos\n        default:\n            return state\n    }\n}\nexport default todos","import {ADD_GOALS,REMOVE_GOALS} from '../action/goals'\nimport {RECEIVE_DATA} from '../action/share'\n\n\nfunction goals(state=[],action) {\n    switch (action.type) {\n        case ADD_GOALS:\n            return state.concat([action.goal])\n        case REMOVE_GOALS:\n            return state.filter((goal) => goal.id !== action.id)\n        case RECEIVE_DATA:\n            return  action.goals\n        default:\n            return state\n    }\n}\n\nexport default goals\n","import {RECEIVE_DATA} from '../action/share'\nfunction loading(state=true,action) {\n    switch (action.type) {\n        case RECEIVE_DATA:\n            return state = false\n        default:\n            return state\n    }\n}\n\nexport default loading","import {combineReducers} from \"redux\";\nimport todos from './todos'\nimport goals from './goals'\nimport loading from './loading'\n\nexport default combineReducers({\n    todos,\n    goals,\n    loading\n})","const logger = (store)=>(next)=>(action)=>{\n    console.group(action.type)\n        const value = next(action)\n        console.log('action',action)\n        console.log('The state is ',store.getState())\n    console.groupEnd()\n    return value\n}\n\nexport default logger","import {applyMiddleware} from 'redux'\nimport thunk from 'redux-thunk'\nimport logger from './logger'\n\n\nexport default applyMiddleware(thunk,logger)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App';\nimport {createStore} from \"redux\";\nimport {Provider} from 'react-redux'\nimport reducers from '../src/reducers'\nimport middleware from './middleware'\n\n\nconst store =createStore(reducers,middleware)\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}