(window.webpackJsonpreduxtodo=window.webpackJsonpreduxtodo||[]).push([[0],{19:function(t,e,n){t.exports=n(29)},29:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(11),c=n.n(a),i=n(18),u=n(6),l=n(7),s=n(9),d=n(8),p=n(10);var f=function(t){var e=t.deleteList,n=t.toggleTodoList;return r.a.createElement("ul",null,t.items.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("span",{onClick:function(){return n&&n(t.id)},style:{textDecoration:t.component?"line-through":"none"}},t.name),r.a.createElement("button",{onClick:function(){return e(t)}},"x"))}))},h=n(4),v=n(2),g=n.n(v),m="ADD_TODO",O="REMOVE_TODO",b="TOGGLE_TODO";function E(t){return{type:m,todo:t}}function y(t){return function(e){var n;return e((n=t.id,{type:O,id:n})),g.a.deleteGoal(t.id).catch(function(){e(E(t)),alert("\u9519\u8bef\u6dfb\u52a0\u8bf7\u91cd\u8bd5")})}}var j=function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).getInputValue=function(t){t.preventDefault();var e,o,r=n.input.value;n.props.dispatch((e=r,o=function(){return n.input.value=""},function(t){return g.a.saveTodo(e).then(function(e){t(E(e)),o()}).catch(function(){alert("\u9519\u8bef\u8bf7\u91cd\u8bd5")})}))},n.deleteList=function(t){n.props.dispatch(y(t))},n.toggleTodoList=function(t){n.props.dispatch(function(t){return{type:b,id:t}}(t))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props.todos;return r.a.createElement("div",null,r.a.createElement("h3",null,"Todos"),r.a.createElement("input",{type:"text",ref:function(e){return t.input=e}}),r.a.createElement("button",{onClick:this.getInputValue},"\u63d0\u4ea4"),r.a.createElement(f,{items:e,deleteList:this.deleteList,toggleTodoList:this.toggleTodoList}))}}]),e}(o.Component);var L=Object(h.b)(function(t){return{todos:t.todos}})(j),T="ADD_GOALS",D="REMOVE_GOALS";function G(t){return{type:T,goal:t}}function k(t){return console.log("handleRemoveGoal",t.id),function(e){var n;return e((n=t.id,console.log("action------id",n),{type:D,id:n})),g.a.deleteGoal(t.id).catch(function(){e(G(t)),alert("\u9519\u8bef\u8bf7\u91cd\u8bd5")})}}var w=function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).getGoalValue=function(t){t.preventDefault();var e=n.input.value;n.props.dispatch(function(t,e){return function(n){return g.a.saveGoal(t).then(function(t){n(G(t)),e()}).catch(function(){alert("\u9519\u8bef\u6dfb\u52a0\u8bf7\u91cd\u8bd5")})}}(e,function(){return n.input.value=""}))},n.deleteList=function(t){n.props.dispatch(k(t))},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Goals"),r.a.createElement("input",{type:"text",ref:function(e){return t.input=e}}),r.a.createElement("button",{onClick:this.getGoalValue},"\u63d0\u4ea4"),r.a.createElement(f,{items:this.props.goals,deleteList:this.deleteList}))}}]),e}(o.Component);var A=Object(h.b)(function(t){return{goals:t.goals}})(w),C="RECEIVE_DATA";var x=function(t){function e(){return Object(u.a)(this,e),Object(s.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;Promise.all([g.a.fetchTodos(),g.a.fetchGoals()]).then(function(e){var n=Object(i.a)(e,2),o=n[0],r=n[1];t.props.dispatch(function(t,e){return{type:C,todos:t,goals:e}}(o,r))})}},{key:"render",value:function(){return!0===this.props.loading?r.a.createElement("h3",null,"loading"):r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(A,null))}}]),e}(o.Component);var V=Object(h.b)(function(t){return{loading:t.loading}})(x),_=n(3);var I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return t.concat([e.todo]);case O:return t.filter(function(t){return t.id!==e.id});case b:return t.map(function(t){return t.id!==e.id?t:Object.assign({},t,{component:!t.component})});case C:return e.todos;default:return t}};var R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return t.concat([e.goal]);case D:return t.filter(function(t){return t.id!==e.id});case C:return e.goals;default:return t}};var M=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case C:return!1;default:return t}},S=Object(_.c)({todos:I,goals:R,loading:M}),J=n(17),B=function(t){return function(e){return function(n){console.group(n.type);var o=e(n);return console.log("action",n),console.log("The state is ",t.getState()),console.groupEnd(),o}}},P=Object(_.a)(J.a,B),q=Object(_.d)(S,P);c.a.render(r.a.createElement(h.a,{store:q},r.a.createElement(V,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f597d175.chunk.js.map